<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Meta-L Audio Controller</title>

  <!-- CORRECT PATH FOR YOUR REPO (meta-l-audio-app) -->
  <link rel="manifest" href="/meta-l-audio-app/manifest.json" />

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --gold-base: #C49A4C;
      --gold-light: #F0DDA5;
      --gold-dark: #8C6A35;
      --black-bg: #000000;
      --card-bg: #1a1a1a;
    }
    body { font-family: 'Montserrat', sans-serif; background: var(--black-bg); color: #fff; margin: 0; display: flex; justify-content: center; min-height: 100vh; padding: 1rem; }
    .card { background: var(--card-bg); border-radius: 1.5rem; padding: 2rem 1.5rem; width: 100%; max-width: 24rem; box-shadow: 0 15px 40px rgba(0,0,0,0.8); }
    header { text-align: center; margin-bottom: 1rem; }
    header img { width: 60px; filter: drop-shadow(0 0 10px var(--gold-base)); }
    h1 { font-size: 1.4rem; font-weight: 300; letter-spacing: 0.3em; color: var(--gold-base); }
    h3 { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.1em; color: #ccc; border-bottom: 1px solid #333; padding-bottom: 0.5rem; text-align: center; }
    .button-grid { display: flex; flex-wrap: wrap; gap: 0.5rem; justify-content: center; margin: 1rem 0; }
    .btn { background: transparent; color: var(--gold-light); border: 1px solid var(--gold-base); padding: 0.4rem 0.8rem; border-radius: 0.5rem; font-size: 0.75rem; transition: all 0.2s; }
    .btn.active, .btn.connected { background: linear-gradient(145deg, var(--gold-base), var(--gold-dark)); color: #111; box-shadow: 0 0 15px rgba(196,154,76,0.9); }
    input[type=range] { -webkit-appearance: none; width: 100%; height: 6px; background: #333; border-radius: 3px; outline: none; }
    input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; width: 20px; height: 20px; border-radius: 50%; background: radial-gradient(circle at 70% 30%, var(--gold-light), var(--gold-base), var(--gold-dark)); box-shadow: 0 0 12px rgba(196,154,76,0.9); }
    #play-pause-btn { width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(145deg, var(--gold-light), var(--gold-base)); box-shadow: 0 0 20px rgba(196,154,76,0.8); }
    #status { font-size: 0.7rem; color: #888; text-align: center; margin-top: 1rem; }
  </style>
</head>
<body class="min-h-screen">

  <div class="card">
    <header>
      <img src="/meta-l-audio-app/logo.png" alt="Meta-L Logo" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iI0M0OUE0QyIvPjx0ZXh0IHg9IjUwIiB5PSI1NSIgZm9udC1mYW1pbHk9Ik1vbnRzZXJyYXQiIGZvbnQtc2l6ZT0iMTgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMwMDAiPk1MPC90ZXh0Pjwvc3ZnPg=='" />
      <h1>META-L</h1>
      <p style="color:var(--gold-base); font-size:0.65rem; letter-spacing:0.2em;">ACOUSTIC & VISUAL ECSTASY</p>
      <p id="status">INITIALIZING...</p>
    </header>

    <section>
      <h3>Speaker</h3>
      <div class="button-grid" id="speaker-buttons"></div>
    </section>

    <section>
      <h3>Bluetooth</h3>
      <button class="btn w-full mb-2" onclick="alert('Scanning...')">Scan Devices</button>
      <div class="button-grid" id="bt-buttons"></div>
    </section>

    <section>
      <h3>Media Control</h3>
      <div class="flex justify-center gap-6 my-6">
        <button class="btn">◄◄</button>
        <button id="play-pause-btn" class="mx-4">▶</button>
        <button class="btn">►►</button>
      </div>
      <input type="range" min="0" max="100" value="70" class="w-full" />
    </section>

    <section>
      <h3>Equalizer</h3>
      <div class="button-grid mb-4">
        <button class="btn active">Flat</button>
        <button class="btn">Rock</button>
        <button class="btn">Acoustic</button>
      </div>
      <div class="space-y-4">
        <div><label>Low <span>50</span></label><input type="range" value="50"></div>
        <div><label>Low-Mid <span>50</span></label><input type="range" value="50"></div>
        <div><label>Mid <span>50</span></label><input type="range" value="50"></div>
        <div><label>High-Mid <span>50</span></label><input type="range" value="50"></div>
        <div><label>High <span>50</span></label><input type="range" value="50"></div>
      </div>
      <button class="btn w-full mt-4" style="background:#dc2626">RESET TO FLAT</button>
    </section>
  </div>

  <!-- CORRECT SERVICE WORKER REGISTRATION FOR YOUR REPO -->
  <script>
    document.getElementById('status').textContent = 'DEMO MODE • OFFLINE READY';

    // Dummy data
    const speakers = ['Mini 5"', 'Mini 8"', 'Sphere', 'Aura'];
    const bt = ['Phone X', 'Laptop Pro', 'Tablet Go'];
    speakers.forEach(s => {
      const b = document.createElement('button');
      b.className = 'btn'; b.textContent = s;
      if (s === 'Mini 5"') b.classList.add('active');
      document.getElementById('speaker-buttons').appendChild(b);
    });
    bt.forEach(d => {
      const b = document.createElement('button');
      b.className = 'btn'; b.textContent = d;
      if (d === 'Phone X') b.classList.add('connected');
      document.getElementById('bt-buttons').appendChild(b);
    });

    // SERVICE WORKER – CORRECT PATH FOR YOUR REPO
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/meta-l-audio-app/sw.js')
          .then(reg => {
            console.log('Service Worker registered successfully:', reg.scope);
            document.getElementById('status').textContent = 'ONLINE • FULLY CACHED';
          })
          .catch(err => {
            console.error('SW registration failed:', err);
          });
      });
    }
  </script>
</body>
</html>
